{"version":3,"sources":["../../src/operators/exists.js"],"names":["exists","predicate","schema","meta","type","x","fn","obj","key","parents","parentKeys","context"],"mappings":";;;;;QAMgBA,M,GAAAA,M;;AALhB;;AACA;;AACA;;;;AACA;;;;AAJA;AAMO,SAASA,MAAT,CAAgBC,SAAhB,EAA2BC,MAA3B,EAAmC;AACxC,QAAMC,OAAO,EAAEC,MAAM,QAAR,EAAkBF,MAAlB,EAA0BD,SAA1B,EAAb;;AAEAA,cAAYA,aAAc;AAAA,WAAK,OAAOI,CAAP,KAAa,WAAlB;AAAA,GAA1B;;AAEA,WAASC,EAAT,CAAYC,GAAZ,EAAiBC,GAAjB,EAAsBC,OAAtB,EAA+BC,UAA/B,EAA2C;AACzC,WAAO;AAAA,aACLT,UAAUM,GAAV,IACIL,SACI,qBAAMA,MAAN,EAAcK,GAAd,EAAmBC,GAAnB,EAAwBC,OAAxB,EAAiCC,UAAjC,EAA6CC,OAA7C,CADJ,GAEI,mBAAU,EAAEJ,GAAF,EAAOC,GAAP,EAAYC,OAAZ,EAAqBC,UAArB,EAAV,EAA6CP,IAA7C,CAHR,GAII,kBAAS,iBAAT,EAA4B,EAAEI,GAAF,EAAOC,GAAP,EAAYC,OAAZ,EAAqBC,UAArB,EAA5B,EAA+DP,IAA/D,CALC;AAAA,KAAP;AAMD;;AAED,SAAO,4BAAmBG,EAAnB,EAAuB,sBAAU,EAAV,CAAvB,EAAsCH,IAAtC,CAAP;AACD","file":"exists.js","sourcesContent":["/*       */\nimport { Match, Empty, Skip, Fault } from \"../results\";\nimport { FunctionSchema } from \"../schemas\";\nimport parse from \"../parse\";\nimport { getParams } from \"./utils\";\n\nexport function exists(predicate, schema) {\n  const meta = { type: \"exists\", schema, predicate };\n\n  predicate = predicate || (x => typeof x !== \"undefined\");\n\n  function fn(obj, key, parents, parentKeys) {\n    return context =>\n      predicate(obj)\n        ? schema\n            ? parse(schema)(obj, key, parents, parentKeys)(context)\n            : new Empty({ obj, key, parents, parentKeys }, meta)\n        : new Skip(\"Does not exist.\", { obj, key, parents, parentKeys }, meta);\n  }\n\n  return new FunctionSchema(fn, getParams({}), meta);\n}\n"]}